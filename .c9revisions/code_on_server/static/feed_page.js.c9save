{"ts":1367252751561,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"//handles posting entries of user's feeds to feed page\n\n/*\n//moved globals to init.js\n//moved google.load call to init.js\n//moved default_feeds() to init.js\n//moved parse_all_feeds to parse_feed_data.js\n//moved load_feed_contents to parse_feed_data.js\n//moved load_next_feed to parse_feed_data.js\n//moved init_feeds() to init.js\n//moved google.setOnLoadCallback(init_feeds) to init.js\n//moved publishable_entry_field_data to unused_code.js\n*/\n\n//publishes pre-parsed user feed contents\n//changed name from post_merged_feed\nfunction post_feeds(){\n\t//console.log(\"posting merged feed\");\n\tvar entries_per_feed = 4;\n\tvar entry_num = 0;\n\tfor (var i = 0; i < entries_per_feed; i++){\t\n\t\tfor (var j = 0; j < window.num_feeds; j++){\n\t\t\tvar saved_feed = window.user_feeds[j];\n\t\t\tvar this_feed = window.active_feeds[j];\t\t\t\n\t\t\tif (!(saved_feed.ignore)){\n\t\t\t\tvar this_entry = this_feed[i];\n\t\t\t\t//console.log(this_entry.link);\n\t\t\t\tpost_feed_entry(this_entry, entry_num);\n\t\t\t\t//console.log(\"posted entry: \" + entry_num);\n\t\t\t\tentry_num++;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconsole.log(\"ignored entry: \" + entry_num);\n\t\t\t\tentry_num++;\n\t\t\t}\n\t\t}\n\t}\n\tconsole.log(\"feed loaded\");\n\t//new_subscription_input();\n}\n\n//publishes pre-parsed contents of a given feed entry\nfunction post_feed_entry(entry, id){\n\t\n\tvar div_class = \"listing\";\n\tvar new_div_html = \"<div id=\" + id + \" class='listing'> </div>\";\n\tvar container = $(\"#feed_box\");\n\tcontainer.append(new_div_html);\n\tvar div = $(\"#\" + id);\n\tdiv.html(\"<div class='headline'>\" + entry.title + \"</div>\");\n\t\n\tif ((entry.date !== undefined) && (entry.date !== \"\")){\n\t\tdiv.append(\"<br/>\" + \"<div class='date'>\" + entry.publishedDate + \"</div>\");\n\t}\n\tdiv.append(\"<div class='seperator'></div>\")\n\tif ((entry.contentSnippet !== undefined) && (entry.contentSnippet !== \"\")){\n\t\tdiv.append(\"<br/>\" + \"<div class='snippet'>\" + entry.contentSnippet + \"</div>\");\n\t}\n\tif ((entry.link !== undefined) && (entry.link !== \"\")){\n\t\tdiv.append(\"<br/>\" + \"<div class='date'>\" + entry.link + \"</div>\");\n\t}\n\tdiv.append(\"<div class='source'>\" + \"Because you subscribe to: \" + entry.feed_src.feed_name + \"</div>\");\n\tdiv.click(function(){\n             //   localStorage.link = entry.link;\n                closeContainers();\n                $(\"#article_container\").removeClass(\"hidden\");\n\t\t\t\t$(\"#article\").attr(\"src\", entry.link);\n      //  window.top.location = './article.html';\n\t\t\t});\n}\n\n"]],"start1":0,"start2":0,"length1":0,"length2":2373}]],"length":2373}
